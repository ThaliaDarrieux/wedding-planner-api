openapi: 3.0.0
info:
  title: üíç API de Casamento - Wedding Planner
  version: 1.0.0
  description: >
    API para gerenciamento de casamentos, incluindo noiva, convidados, checklist, fornecedores, calend√°rio e lista de presentes.
    Agora com **autentica√ß√£o JWT para a noiva** (login e cadastro).

servers:
  - url: http://localhost:3000/api
    description: Servidor local de desenvolvimento

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    Noiva:
      type: object
      properties:
        nome:
          type: string
          example: "Thalia Darrieux"
        email:
          type: string
          example: "thalia@example.com"
        senha:
          type: string
          example: "123456"
    Convidado:
      type: object
      properties:
        nome:
          type: string
          example: "Maria Souza"
        presente:
          type: string
          example: "Panela el√©trica"
        confirmado:
          type: boolean
          example: true

security:
  - bearerAuth: []

paths:
  /noiva/registro:
    post:
      tags: [Noiva]
      summary: Registro de nova noiva
      description: Cria o cadastro da noiva com nome, e-mail e senha.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Noiva'
      responses:
        201:
          description: Cadastro realizado com sucesso
        400:
          description: E-mail j√° cadastrado ou dados inv√°lidos

  /noiva/login:
    post:
      tags: [Noiva]
      summary: Login da noiva
      description: Faz login com e-mail e senha e retorna um token JWT.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                email:
                  type: string
                  example: "thalia@example.com"
                senha:
                  type: string
                  example: "123456"
      responses:
        200:
          description: Login realizado com sucesso
        401:
          description: Credenciais inv√°lidas

  /noiva:
    post:
      tags: [Noiva]
      summary: Salvar dados da noiva
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                nome:
                  type: string
                  example: "Thalia Darrieux"
                email:
                  type: string
                  example: "thalia@example.com"
      responses:
        200:
          description: Dados da noiva salvos com sucesso
    get:
      tags: [Noiva]
      summary: Buscar dados da noiva
      security:
        - bearerAuth: []
      responses:
        200:
          description: Retorna informa√ß√µes da noiva
        404:
          description: Nenhuma noiva cadastrada

  /convidados:
    get:
      tags: [Convidados]
      summary: Lista de convidados
      description: Retorna todos os convidados cadastrados.
      security:
        - bearerAuth: []
      responses:
        200:
          description: Lista de convidados retornada com sucesso
    post:
      tags: [Convidados]
      summary: Adiciona novo convidado
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Convidado'
      responses:
        201:
          description: Convidado adicionado com sucesso

  /checklist:
    get:
      tags: [Checklist]
      summary: Retorna o checklist completo
      security:
        - bearerAuth: []
      responses:
        200:
          description: Lista de tarefas
    post:
      tags: [Checklist]
      summary: Adiciona item ao checklist
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                tarefa:
                  type: string
                  example: "Reservar o sal√£o"
      responses:
        201:
          description: Item adicionado com sucesso

  /fornecedores:
    get:
      tags: [Fornecedores]
      summary: Lista de fornecedores
      security:
        - bearerAuth: []
      responses:
        200:
          description: Fornecedores listados
    post:
      tags: [Fornecedores]
      summary: Adiciona fornecedor
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                nome:
                  type: string
                  example: "Buffet dos Sonhos"
                categoria:
                  type: string
                  example: "Alimenta√ß√£o"
      responses:
        201:
          description: Fornecedor adicionado com sucesso

  /calendario:
    get:
      tags: [Calend√°rio]
      summary: Lista eventos do casamento
      security:
        - bearerAuth: []
      responses:
        200:
          description: Eventos retornados
    post:
      tags: [Calend√°rio]
      summary: Adiciona evento
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                data:
                  type: string
                  example: "2025-08-15"
                evento:
                  type: string
                  example: "Prova do vestido"
      responses:
        201:
          description: Evento adicionado com sucesso
